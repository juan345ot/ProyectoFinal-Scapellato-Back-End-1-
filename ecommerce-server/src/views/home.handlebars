<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ecommerce Server</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <h2>Productos</h2>
  <ul>
    {{#each products}}
      <li>
        <a href="/products/{{this._id}}">Ver Detalles</a> 
        <span class="product-info">- {{this.title}} - ${{this.price}}</span>
        <label for="quantity-{{this._id}}">Cantidad:</label> 
        <input type="number" id="quantity-{{this._id}}" name="quantity" min="1" value="1" data-product-id="{{this._id}}">
        <button class="add-to-cart" data-product-id="{{this._id}}">Agregar al Carrito</button>
      </li>
    {{/each}}
  </ul>

<div class="pagination">
  {{#if hasPrevPage}}
    <a href="{{prevLink}}" class="pagination-button">Anterior</a> 
  {{/if}}

  {{#each (range 1 totalPages currentPage)}} 
    <a href="?limit={{../limit}}&page={{this.page}}&sort={{../sort}}&query={{../query}}" class="pagination-button {{#if this.isCurrentPage}}active{{/if}}">{{this.page}}</a> 
  {{/each}}

  {{#if hasNextPage}}
    <a href="{{nextLink}}" class="pagination-button">Siguiente</a> 
  {{/if}}

  {{#unless hasPrevPage}}
    {{#unless hasNextPage}}
      {{#if (gt totalPages 1)}}
        <span>PÃ¡gina {{currentPage}} de {{totalPages}}</span>
      {{/if}}
    {{/unless}}
  {{/unless}}
</div>

  <br>
  <div id="cart-link-container"></div> 
  <script src="/js/home.js"></script> 
</body>
</html>

